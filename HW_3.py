# Задание_1

ids = {
'user1': [213, 213, 213, 15, 213],
'user2': [54, 54, 119, 119, 119],
'user3': [213, 98, 98, 35]
}

new_set = set()

for values in ids.values():
  for number in values:
    new_set.add(number)

print(new_set)




# Задание_2

queries = [
'смотреть сериалы онлайн',
'новости спорта',
'афиша кино',
'курс доллара',
'сериалы этим летом',
'курс по питону',
'сериалы про спорт',
]

words_2 = 0
words_3 = 0

for phrases in queries:
  new_split_list = phrases.split()
  if len(new_split_list) == 2:
    words_2 += 1
  elif len(new_split_list) == 3:
    words_3 += 1

all_words = words_2 + words_3

print(f"Поисковых запросов, содержащих 2 слов(а): {round(((words_2/all_words) * 100), 2)}")
print(f"Поисковых запросов, содержащих 3 слов(а): {round(((words_3/all_words) * 100), 2)}")




# Задание_3

results = {
'vk': {'revenue': 103, 'cost': 98},
'yandex': {'revenue': 179, 'cost': 153},
'facebook': {'revenue': 103, 'cost': 110},
'adwords': {'revenue': 35, 'cost': 34},
'twitter': {'revenue': 11, 'cost': 24},
}

for k, v in results.items():
  v['ROI'] = (round((v['revenue'] / v['cost'] - 1) * 100, 2))
  print(k, v)




# Задание_4

stats = {'facebook': 55, 'yandex': 115, 'vk': 120, 'google': 99, 'email': 42, 'ok': 140}

final_dict = dict([max(stats.items(), key=lambda k_v: k_v[1])])

print(f'Максимальный объем продаж на рекламном канале: {list(final_dict.keys())}')




# Задание_5

my_list = ['2018-01-01', 'yandex', 'cpc', 100]

last_variable = my_list.pop()

for i in reversed(my_list):
  last_variable = {i: last_variable}

print(last_variable)




# Задание_6

cook_book = {
'салат': [
{'ingridient_name': 'сыр', 'quantity': 50, 'measure': 'гр'},
{'ingridient_name': 'томаты', 'quantity': 2, 'measure': 'шт'},
{'ingridient_name': 'огурцы', 'quantity': 20, 'measure': 'гр'},
{'ingridient_name': 'маслины', 'quantity': 10, 'measure': 'гр'},
{'ingridient_name': 'оливковое масло', 'quantity': 20, 'measure': 'мл'},
{'ingridient_name': 'салат', 'quantity': 10, 'measure': 'гр'},
{'ingridient_name': 'перец', 'quantity': 20, 'measure': 'гр'}
],
'пицца': [
{'ingridient_name': 'сыр', 'quantity': 20, 'measure': 'гр'},
{'ingridient_name': 'колбаса', 'quantity': 30, 'measure': 'гр'},
{'ingridient_name': 'бекон', 'quantity': 30, 'measure': 'гр'},
{'ingridient_name': 'оливки', 'quantity': 10, 'measure': 'гр'},
{'ingridient_name': 'томаты', 'quantity': 20, 'measure': 'гр'},
{'ingridient_name': 'тесто', 'quantity': 100, 'measure': 'гр'},
],
'лимонад': [
{'ingridient_name': 'лимон', 'quantity': 1, 'measure': 'шт'},
{'ingridient_name': 'вода', 'quantity': 200, 'measure': 'мл'},
{'ingridient_name': 'сахар', 'quantity': 10, 'measure': 'гр'},
{'ingridient_name': 'лайм', 'quantity': 20, 'measure': 'гр'},
]
}

need_count_portions = int(input('Введи необходимое кол-во порций: '))
all_dish = dict() # будем складывать наименования ингредиентов и кол-во

for name_dish, ingredients in cook_book.items():
  for i in ingredients:
    if i['ingridient_name'] not in all_dish:
      all_dish[i['ingridient_name']] = i['quantity'] * need_count_portions
    elif i['ingridient_name'] in all_dish:
      all_dish[i['ingridient_name']] += i['quantity'] * need_count_portions

print(all_dish)